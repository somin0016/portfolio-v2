---
/* component imports */
import Layout from "../layouts/Layout.astro";
import BlogList from "../components/Blog/BlogList";
import FormattedDate from "../components/Date/FormattedDate.astro";

/* constants */
import { API_BASE_URL, WORDPRESS_BLOG_URL } from "../constants";

// const response = await fetch(API_BASE_URL, {
//   method: "POST",
//   headers: { "Content-Type": "application/json" },
//   body: JSON.stringify({
//     query: `
// 				query IndexPage {
// 					posts(where: {orderby: {field: DATE, order: DESC}}) {
// 						nodes {
// 							slug
// 							date
// 							title
// 							excerpt
// 							featuredImage {
// 								node {
// 									sourceUrl
// 								}
// 							}
// 						}
// 					}
// 				}
//       `,
//   }),
// });

// destructure data from our JSON
// const { data } = await response.json();

//  assign the array of nodes to "posts" variable for usability
// const posts = data.posts.nodes;

// console.log(posts);
---

<Layout>
  <h1 class="text-4xl font-bold pt-8 mb-4">Blog</h1>
  <p>I do some blogging whenever I feel bored or find interesting topics.</p>
  <!-- Blog List -->
  <div class="mt-16 sm:mt-20">
    <div class="flex justify-between items-center mt-10 pb-2">
      <h2 class="text-2xl font-bold">Recent</h2>
      <a href={WORDPRESS_BLOG_URL} target="_blank" class="text-sm hover:underline">View all</a>
    </div>
    <BlogList client:load />
  </div>
</Layout>
